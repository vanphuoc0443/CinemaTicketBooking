<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>

<BorderPane styleClass="page-container"
            prefWidth="1000" prefHeight="700"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="fxcontroller.MovieDetailController">

    <!-- TOP: Header -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="12" styleClass="navbar">
            <padding><Insets top="12" right="24" bottom="12" left="24"/></padding>
            <Button text="â† Quay láº¡i" onAction="#goBack" styleClass="back-btn"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label text="ðŸŽ¬ Chi tiáº¿t phim" styleClass="navbar-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Region prefWidth="80"/>
        </HBox>
    </top>

    <!-- CENTER: Scrollable content -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" styleClass="scroll-pane">
            <VBox spacing="24" alignment="TOP_CENTER">
                <padding><Insets top="28" right="40" bottom="28" left="40"/></padding>

                <!-- Movie Hero Section -->
                <HBox spacing="28" alignment="TOP_CENTER">

                    <!-- Poster -->
                    <VBox alignment="CENTER" spacing="8">
                        <ImageView fx:id="posterImage" fitWidth="220" fitHeight="320" preserveRatio="true"
                                   styleClass="movie-poster"/>
                    </VBox>

                    <!-- Info Card -->
                    <VBox spacing="14" styleClass="card-glow" HBox.hgrow="ALWAYS" maxWidth="580">
                        <padding><Insets top="24" right="28" bottom="24" left="28"/></padding>

                        <!-- Title -->
                        <Label fx:id="titleLabel" text="Movie Title" styleClass="heading-xl" wrapText="true"/>

                        <!-- Rating + Trending badges -->
                        <HBox spacing="10" alignment="CENTER_LEFT">
                            <Label fx:id="ratingBadge" text="â­ 8.5/10" styleClass="chip"/>
                            <Label text="ðŸ”¥ Trending" styleClass="badge-trending"/>
                        </HBox>

                        <Region styleClass="gradient-divider"/>

                        <!-- Info Grid: 2 columns -->
                        <GridPane hgap="24" vgap="12">
                            <!-- Row 0: Director + Genre -->
                            <VBox spacing="3" GridPane.rowIndex="0" GridPane.columnIndex="0">
                                <Label text="ðŸŽ¬ Äáº¡o diá»…n" styleClass="info-label"/>
                                <Label fx:id="directorLabel" text="â€”" styleClass="info-value" wrapText="true"/>
                            </VBox>
                            <VBox spacing="3" GridPane.rowIndex="0" GridPane.columnIndex="1">
                                <Label text="ðŸŽ­ Thá»ƒ loáº¡i" styleClass="info-label"/>
                                <Label fx:id="genreLabel" text="â€”" styleClass="info-value" wrapText="true"/>
                            </VBox>

                            <!-- Row 1: Release Date + Duration -->
                            <VBox spacing="3" GridPane.rowIndex="1" GridPane.columnIndex="0">
                                <Label text="ðŸ“… NgÃ y chiáº¿u" styleClass="info-label"/>
                                <Label fx:id="releaseDateLabel" text="â€”" styleClass="info-value"/>
                            </VBox>
                            <VBox spacing="3" GridPane.rowIndex="1" GridPane.columnIndex="1">
                                <Label text="â± Thá»i lÆ°á»£ng" styleClass="info-label"/>
                                <Label fx:id="durationLabel" text="â€”" styleClass="info-value"/>
                            </VBox>

                            <!-- Row 2: Language + Rating -->
                            <VBox spacing="3" GridPane.rowIndex="2" GridPane.columnIndex="0">
                                <Label text="ðŸŒ NgÃ´n ngá»¯" styleClass="info-label"/>
                                <Label fx:id="languageLabel" text="â€”" styleClass="info-value"/>
                            </VBox>
                            <VBox spacing="3" GridPane.rowIndex="2" GridPane.columnIndex="1">
                                <Label text="â­ ÄÃ¡nh giÃ¡" styleClass="info-label"/>
                                <Label fx:id="ratingLabel" text="â€”" styleClass="info-value"/>
                            </VBox>
                        </GridPane>

                        <!-- Description -->
                        <VBox spacing="4">
                            <Label text="ðŸ“ MÃ´ táº£" styleClass="info-label"/>
                            <Label fx:id="descriptionLabel" text="â€”" styleClass="text-secondary" wrapText="true"/>
                        </VBox>
                    </VBox>
                </HBox>

                <!-- Gradient Divider -->
                <Region styleClass="gradient-divider"/>

                <!-- Showtime Section -->
                <VBox spacing="14">
                    <Label text="ðŸ“… Chá»n lá»‹ch chiáº¿u" styleClass="heading-lg"/>

                    <!-- Date tabs -->
                    <HBox fx:id="dateTabs" spacing="8" alignment="CENTER_LEFT"/>

                    <!-- Time slots -->
                    <Label text="ðŸ• Suáº¥t chiáº¿u" styleClass="heading-sm"/>
                    <FlowPane fx:id="timeSlots" hgap="10" vgap="10" alignment="CENTER_LEFT"/>

                    <!-- Ticket expiration info -->
                    <HBox spacing="8" alignment="CENTER_LEFT" styleClass="card-elevated" maxWidth="420">
                        <padding><Insets top="10" right="16" bottom="10" left="16"/></padding>
                        <Label text="â°" style="-fx-font-size: 20px;"/>
                        <VBox spacing="2">
                            <Label text="Thá»i háº¡n vÃ©" styleClass="info-label"/>
                            <Label fx:id="expirationLabel" text="VÃ© cÃ³ hiá»‡u lá»±c Ä‘áº¿n 30 phÃºt sau suáº¥t chiáº¿u"
                                   styleClass="text-secondary"/>
                        </VBox>
                    </HBox>
                </VBox>

                <Region prefHeight="8"/>

                <!-- Book Ticket Button -->
                <Button fx:id="bookBtn" text="ðŸŽŸ Äáº·t vÃ© ngay" onAction="#bookTicket"
                        styleClass="btn-continue" prefWidth="320" prefHeight="48" disable="true"/>

                <Region prefHeight="12"/>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>
