<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="fxcontroller.HomeController"
            prefWidth="1000" prefHeight="700"
            styleClass="page-container">

    <!-- ===== TOP NAVIGATION BAR ===== -->
    <top>
        <HBox spacing="15" styleClass="navbar" alignment="CENTER_LEFT">
            <padding>
                <Insets top="14" right="24" bottom="14" left="24"/>
            </padding>

            <Label text="ðŸŽ¬ CINEMA" styleClass="navbar-title"/>
            <Label text="â€¢" styleClass="text-muted"/>
            <Label text="Xin chÃ o!" styleClass="text-secondary"/>

            <Region HBox.hgrow="ALWAYS"/>

            <TextField fx:id="searchField"
                       promptText="ðŸ” TÃ¬m kiáº¿m phim..."
                       styleClass="input-field"
                       prefWidth="260"
                       onAction="#searchMovies"/>

            <Button text="ðŸ” TÃ¬m kiáº¿m" onAction="#searchMovies" styleClass="search-btn"/>
            <Button text="ðŸ‘¤ Há»“ sÆ¡" onAction="#goProfile" styleClass="btn-outline"/>
            <Button text="ðŸ“œ Lá»‹ch sá»­" onAction="#goHistory" styleClass="btn-outline"/>
            <Button text="ðŸšª ÄÄƒng xuáº¥t" onAction="#logout" styleClass="btn-outline"/>
        </HBox>
    </top>

    <!-- ===== MAIN CONTENT ===== -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox spacing="24">
                <padding>
                    <Insets top="28" right="32" bottom="28" left="32"/>
                </padding>

                <!-- Section Header: Now Showing -->
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label fx:id="sectionTitle" text="ðŸŽ¥ Äang chiáº¿u" styleClass="heading-lg"/>
                    <Label text="ðŸ”¥ Ná»•i báº­t" styleClass="badge-trending"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="statusLabel" text="" styleClass="text-muted"/>
                </HBox>

                <!-- Dynamic Now Showing Movies -->
                <FlowPane fx:id="movieContainer" hgap="20" vgap="20" alignment="CENTER_LEFT"/>

                <!-- Loading indicator -->
                <ProgressIndicator fx:id="loadingIndicator" visible="false"
                                   maxWidth="48" maxHeight="48"/>

                <!-- Gradient Divider -->
                <Region styleClass="gradient-divider"/>

                <!-- Section Header: Coming Soon -->
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <Label fx:id="comingSoonTitle" text="ðŸŽž Sáº¯p chiáº¿u" styleClass="heading-lg"/>
                    <Label text="Má»šI" styleClass="badge-coming-soon"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label fx:id="comingSoonCount" text="" styleClass="text-muted"/>
                </HBox>

                <!-- Dynamic Coming Soon Movies -->
                <FlowPane fx:id="comingSoonContainer" hgap="20" vgap="20" alignment="CENTER_LEFT"/>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
